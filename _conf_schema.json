{
  "enable_heartflow": {
    "description": "启用心流主动回复",
    "type": "bool",
    "default": false,
    "hint": "启用后，机器人将智能判断群聊消息并主动回复"
  },
  "judge_provider_name": {
    "description": "判断模型提供商名称",
    "type": "string",
    "default": "",
    "hint": "用于小参数模型判断的提供商名称，如配置的OpenAI、Claude等提供商"
  },
  "reply_threshold": {
    "description": "回复阈值(0-1)",
    "type": "float",
    "default": 0.6,
    "hint": "超过此阈值才会主动回复，值越高越严格"
  },
  "energy_decay_rate": {
    "description": "精力衰减速度",
    "type": "float",
    "default": 0.1,
    "hint": "每次回复后精力下降的幅度，影响后续回复的积极性"
  },
  "energy_recovery_rate": {
    "description": "精力恢复速度",
    "type": "float",
    "default": 0.02,
    "hint": "每次不回复时精力恢复的幅度"
  },
  "context_messages_count": {
    "description": "上下文消息数量",
    "type": "int",
    "default": 5,
    "hint": "判断时考虑的最近消息数量"
  },
  "whitelist_enabled": {
    "description": "启用群聊白名单",
    "type": "bool",
    "default": false,
    "hint": "启用后只有白名单中的群聊才会触发心流回复"
  },
  "chat_whitelist": {
    "description": "群聊白名单",
    "type": "list",
    "default": [],
    "hint": "允许心流回复的群聊sid列表，/sid获取"
  },
  "judge_relevance": {
    "description": "判断权重的内容相关度",
    "type": "float",
    "default": 0.25,
    "hint": "针对判断权重的内容相关度设置，默认25%"
  },
  "judge_willingness": {
    "description": "判断权重的回复意愿",
    "type": "float",
    "default": 0.2,
    "hint": "针对判断权重的回复意愿设置，默认20%"
  },
  "judge_social": {
    "description": "判断权重的社交适宜性",
    "type": "float",
    "default": 0.2,
    "hint": "针对判断权重的社交适宜性设置，默认20%"
  },
  "judge_timing": {
    "description": "判断权重的时机相关性",
    "type": "float",
    "default": 0.15,
    "hint": "针对判断权重的时机相关性设置，默认15%"
  },
  "judge_continuity": {
    "description": "判断权重的对话连贯性",
    "type": "float",
    "default": 0.2,
    "hint": "针对判断权重的对话连贯性设置，默认20%"
  },
  "judge_include_reasoning": {
    "description": "判断时是否包含理由",
    "type": "bool",
    "default": true,
    "hint": "让小模型在判断时返回详细理由。关闭可轻微提升性能和鲁棒性。"
  },
  "judge_max_retries": {
    "description": "判断失败最大重试次数",
    "type": "int",
    "default": 3,
    "hint": "当小模型返回无效JSON时的最大重试次数，设为0时不重试，建议1-5次"
  },
  "judge_evaluation_rules": {
    "description": "判断评估规则",
    "type": "text",
    "default": "",
    "hint": "自定义评估规则内容，不能更改维度，留空使用默认的评估规则。"
  },
  "summarize_instruction": {
    "description": "系统提示词总结指令",
    "type": "text",
    "default": "",
    "hint": "自定义精简提示词，说明如何总结机器人角色设定。留空使用默认指令。"
  },
  "max_buffer_size": {
    "description": "消息缓冲区大小",
    "type": "int",
    "default": 50,
    "hint": "每个群聊最多缓存的消息数量，用于保存完整对话历史（包括未回复的消息）。建议15-100条。"
  },
  "enable_favorability": {
    "description": "启用好感度系统",
    "type": "bool",
    "default": false,
    "hint": "启用后，机器人会记住与每个用户的互动质量，调整对不同用户的回复积极性。好感度高的用户更容易获得回复。"
  },
  "enable_global_favorability": {
    "description": "启用全局好感度",
    "type": "bool",
    "default": false,
    "hint": "启用后，用户的好感度在所有群聊中共享。注意：如果启用了白名单，全局好感度也只在白名单群聊中生效。前置条件：enable_favorability=true"
  },
  "initial_favorability": {
    "description": "新用户初始好感度",
    "type": "float",
    "default": 10.0,
    "hint": "新用户第一次互动时的好感度初始值（0-100）。"
  },
  "favorability_impact_strength": {
    "description": "好感度影响强度",
    "type": "float",
    "default": 1.0,
    "hint": "好感度对回复概率的影响程度。1.0=完全影响（好感度值直接等于回复概率），0.5=减弱影响，0=无影响，推荐1.0。"
  },
  "favorability_decay_daily": {
    "description": "每日好感度衰减",
    "type": "float",
    "default": 1.0,
    "hint": "每天自动向中性值(50)回归的速度。0=不衰减，1.0=标准衰减（>50时每天—1.5，<50时每天+2.0），2.0=双倍衰减。建议0.5-2.0。"
  },
  "fav_weight_relevance": {
    "description": "好感度计算-内容相关度权重",
    "type": "float",
    "default": 0.4,
    "hint": "内容质量对好感度的影响权重，默认40%"
  },
  "fav_weight_social": {
    "description": "好感度计算-社交适宜性权重",
    "type": "float",
    "default": 0.3,
    "hint": "社交礼貌对好感度的影响权重，默认30%"
  },
  "fav_weight_continuity": {
    "description": "好感度计算-对话连贯性权重",
    "type": "float",
    "default": 0.2,
    "hint": "对话延续性对好感度的影响权重，默认20%"
  },
  "fav_weight_willingness": {
    "description": "好感度计算-回复意愿权重",
    "type": "float",
    "default": 0.05,
    "hint": "回复意愿对好感度的影响权重，默认5%"
  },
  "fav_weight_timing": {
    "description": "好感度计算-时机恰当性权重",
    "type": "float",
    "default": 0.05,
    "hint": "时机把握对好感度的影响权重，默认5%"
  }
}
